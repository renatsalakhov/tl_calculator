(function(t){function e(e){for(var r,o,i=e[0],l=e[1],c=e[2],d=0,f=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(f.length)f.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],r=!0,i=1;i<n.length;i++){var l=n[i];0!==a[l]&&(r=!1)}r&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},a={app:0},s=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;s.push([1,"chunk-vendors"]),n()})({0:function(t,e){},"0636":function(t,e,n){},1:function(t,e,n){t.exports=n("56d7")},10:function(t,e){},11:function(t,e){},2:function(t,e){},3:function(t,e){},3271:function(t,e,n){"use strict";n("0636")},4:function(t,e){},5:function(t,e){},"51b9":function(t,e,n){"use strict";n("d71c")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r,a=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app"},[n("Header"),n("transition",{attrs:{name:"loader"}},[t.loader.isVisisble?n("Loader",{attrs:{status:t.loader.status}}):t._e()],1),n("div",{staticClass:"main"},[n("div",{staticClass:"container"},[n("div",{staticClass:"main__block"},[n("p",{staticClass:"main__title"},[t._v("Заполните форму")]),n("div",{staticClass:"form"},[n("div",{staticClass:"form__block form__block_inputs"},[n("div",{staticClass:"form__input"},[n("label",{staticClass:"form__label",attrs:{for:"fromCity"}},[t._v("Откуда"),n("span",[t._v(t._s(t.form.from?": "+t.form.from:""))])]),n("Search",{staticClass:"form__search",attrs:{list:t.cities,placeholder:"Из города",selectItem:function(e){return t.form.from=e},exeption:t.form.to}})],1),n("div",{staticClass:"form__input"},[n("label",{staticClass:"form__label",attrs:{for:"toCity"}},[t._v("Куда"),n("span",[t._v(t._s(t.form.to?": "+t.form.to:""))])]),n("Search",{staticClass:"form__search",attrs:{list:t.cities,placeholder:"В город",selectItem:function(e){return t.form.to=e},exeption:t.form.from}})],1)]),n("div",{staticClass:"form__block"},[n("p",{staticClass:"form__label"},[t._v("Вид автотранспорта")]),n("div",{staticClass:"form__types"},t._l(t.types,(function(e){return n("div",{staticClass:"radio",class:{radio_checked:t.form.type===e.key},on:{click:function(){return t.form.type=e.key}}},[n("span",{staticClass:"radio__box"}),n("span",{staticClass:"radio__text"},[t._v(t._s(e.text))])])})),0)]),n("div",{staticClass:"form__block"},[n("button",{staticClass:"form__button",class:{form__button_passive:!t.form.from||!t.form.to||!t.form.type||t.isCalculating},on:{click:function(e){return t.getInfo()}}},[t._v(t._s(t.isCalculating?"Идет рассчет...":"Рассчитать"))])])])]),t.table.length>0?n("div",{staticClass:"main__block"},[n("p",{staticClass:"main__title"},[t._v("Результат расчетов")]),n("div",{staticClass:"table"},[t._l(t.table,(function(e){return[n("div",{staticClass:"table__title"},[t._v(t._s(e.title))]),n("div",{staticClass:"table__value"},[t._v(t._s(e.value))])]}))],2)]):t._e()])])],1)},o=[],i=(n("4de4"),n("c975"),n("d3b7"),n("3ca3"),n("ddb0"),n("5530")),l=(n("96cf"),n("1da1")),c=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},u=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("div",{staticClass:"header__logo"},[n("img",{attrs:{src:"/img/logo.png",alt:""}})]),n("p",{staticClass:"header__title"},[t._v("Рассчет стоимости грузоперевозки")])])}],d={name:"Header"},f=d,p=(n("df94"),n("2877")),m=Object(p["a"])(f,c,u,!1,null,"31a8ebe4",null),v=m.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loader"},[n("div",{staticClass:"loader__body"},[n("img",{staticClass:"loader__logo",attrs:{src:"/img/logo.png"}}),n("p",{staticClass:"loader__status"},[t._v(t._s(t.status))])])])},_=[],b={name:"Loader",props:{status:String}},C=b,g=(n("51b9"),Object(p["a"])(C,h,_,!1,null,"8cba413a",null)),x=g.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search"},[n("div",{staticClass:"search__main",class:{search__main_list:t.listSorted.length>0}},[n("span",[n("fa-icon",{attrs:{icon:"search"}})],1),n("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],staticClass:"search__input",attrs:{placeholder:t.placeholder},domProps:{value:t.input},on:{input:function(e){e.target.composing||(t.input=e.target.value)}}}),t.input?n("button",{on:{click:function(e){t.input="",t.selectItem("")}}},[n("fa-icon",{attrs:{icon:"times"}})],1):t._e()]),t.listSorted.length>0?n("div",{staticClass:"search__list"},t._l(t.listSorted,(function(e){return n("button",{staticClass:"search__item",on:{click:function(n){t.selectItem(e),t.input=""}}},[t._v(t._s(e))])})),0):t._e()])},w=[],k=(n("ac1f"),n("466d"),{name:"Search",props:{list:Array,placeholder:String,selectItem:Function,exeption:String},data:function(){return{input:""}},computed:{listSorted:function(){var t=this;return this.input?this.list.filter((function(e,n,r){return r.indexOf(e)===n&&e.toLowerCase().match(t.input.toLowerCase())&&e!==t.exeption})):[]}}}),I=k,S=(n("3271"),Object(p["a"])(I,y,w,!1,null,"0a462c7b",null)),R=S.exports,O=n("d340"),E={components:{Header:v,Loader:x,Search:R},data:function(){return{loader:{isVisisble:!0,status:""},isCalculating:!1,cities:[],form:{from:"",to:"",type:""},types:[{key:"1.5",text:"Газель 1.5 тонны"},{key:"3",text:"3-тонник"},{key:"5",text:"5-тонник"},{key:"10",text:"10-тонник"},{key:"20",text:"Фура 20 тонн"},{key:"2к",text:"Догруз 2 куба"},{key:"4к",text:"Догруз 4 куба"},{key:"8к",text:"Догруз 8 кубов"}],result:{}}},computed:{table:function(){var t=this;return this.result.distance?[{title:"Город отправления",value:this.result.from},{title:"Город назначения",value:this.result.to},{title:"Вид автотранспорта",value:this.types.filter((function(e){return e.key===t.result.type}))[0].text},{title:"Расстояние",value:"".concat(this.result.distance," км")},{title:"Ставка за км",value:"".concat(this.result.m," руб./км")},{title:"Ставка перевозчика",value:"".concat(this.result.p," руб.")},{title:"Ставка для клиента",value:"".concat(this.result.k," руб.")},{title:"Маржа",value:"".concat(this.result.k-this.result.p," руб.")},{title:"Срок доставки",value:"".concat(Math.ceil(this.result.distance/700)," дн.")}]:[]}},methods:{load:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new O["GoogleSpreadsheet"]("1BPHDRVWwO4nBEF5ERPDBBdFwfmgixtXz9rHarbZ-o7c"),t.loader.status="Подключение к Google Docs",e.next=4,r.useServiceAccountAuth({client_email:"tarif-653@dogwood-envoy-300011.iam.gserviceaccount.com",private_key:"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCfZ3CcZRHtD82R\nFxCr5a3QgvTCTou43MHTj9OS/Kb9qauhpSKzg7deaKOw6uk3+l4VDTMe/0VmIHMQ\nJQmmVw4+OpWRYHxGa7huVF639QGSCC+dAMBOu7IRWSC+aF2ElmClBVNnftEEhu2+\n1vDS8e9uhjswupktOZ3dcydvJ51kfhdKcOyigM3Z1LSWn7FbdxN4kqyvR73oP4rv\nzoVspj8ASy52QHXFmiVm6SMsYNTNx0Rv/WdKzwyj5Whq70WxcD08L2zSzyeB/ZqR\nHIgbVUbsym2I5mahhJNQcs0Uo00EOzGIyE5KrwiwHCKaZLzRMS3UOsANRrtRYaQ9\nn/1UxUgpAgMBAAECggEAGFb8G/VW2mLaWbgy5HyKoNcONok1zoFu2zYP8VbAzOTW\nfzUu6khHfJPvwrjr6Y9CRGaikq4Z07FKwIFXSt3qH9hkNDGOaFZUcAxT9jTkC39S\nfd+6fYstcnawiEJ5XSB1G12H0brMgat0q/o4BY3JqI+4hAVKFFzC3SiTMebTop9c\nf7kx6agrZwpg/RoDIPhEoCWkddKx1wu/HqB2rH0O8hUQ2mgGWvGszkH0a/LZIoif\nNhT1PLMjINdBDfjEhRBSflixqK3Evp9UZAAVDNNePPX4b3F4ETetlKfcUNFVaypv\nQouWGJc9cGe97ibwNP975RmoDUwrJL81sEmfxx6hDQKBgQDTbDCZyJmPG8NIl4sk\nrGngsKS1FdfBtFxJ8SCebNj8CmwIh7B5SCKzJvuL714JKI4ZwnUWdNK0bTyO/Pn/\ndss+6F7CJHwWShZq+lP9LnrZDU7aI8b+6yjTvDQGw51TyMaKMzrLqluvM/Y+vMNv\n0c/+idk9aHugHqFhslm9GL2sZwKBgQDBA3sla9JKtaGttFrea0ZBvGKbIj8bPYrw\ntWxAQaGiC6RJEdFUPMtWHHOsutEWXGW2L0FEIV3Xo3NPBk3Ts84ql8gsX2SN+OR5\nTuK2PPCojMU990ACXTYYv+2aeh39NdTU2GIu8VXhpFU1WPBqwE1V9KqyYY7ZYK/6\nhInPwa+M7wKBgD8pdD+NMWsSlT3LoFMdeygYPayn0ORauLOSaPdLd2ucxXeq6erh\nxRQWklHU+hfsWL+TW52Q2x3yAISLSTiryb6Kdzyy36tdCON+07awuxy7IBKFW77u\njCztbfGTYR4VvlKtSWRtCaUG9gr6I7z1Rpk5n3/8BerpG7dvK+YVTR0DAoGBAIR7\nlzOAZr/RHEDW4uh4SaklXamOQDK6c3v1i3AvnHpV81YUXNKtSAS7UsrlEE+A7G+4\nz9ur63XwQ12ivhjp+kFSHZwXfjXU+T4q34KnIakPtvNpmw4EXPVwB+9Yku0S3hua\nywndrU1MNxB/E8ayaGLvpZr7S8n5i9Ew2Ec6cv0RAoGAJf+2/fotRvt8GxrwxFY6\nw/UTbOxOcuD8MiXL0sMUwVHb2kBRRZT1HxxRn+5vxyicCLNQOk0Vuc9bMDn7qIwf\nc8ZteZV03vOn6s/Kw46kk4jDsBQGu3muzlUcYig7pbZW/HTryEPGLX8fGPBTcW77\nFK7o1r1nrTIt/Ehl6Orz0qo=\n-----END PRIVATE KEY-----\n"});case 4:return t.loader.status="Загрузка информации о документе",e.next=7,r.loadInfo();case 7:return t.loader.status="Загрузка городов",n=r.sheetsByTitle["км (исх)"],e.next=11,n.loadHeaderRow();case 11:t.cities=n.headerValues.filter((function(t){return""!=t})),t.loader.isVisisble=!1;case 13:case"end":return e.stop()}}),e)})))()},getInfo:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var n,a,s,o,l,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.form.from&&t.form.to&&t.form.type){e.next=3;break}return t.result={},e.abrupt("return");case 3:if(!t.isCalculating){e.next=5;break}return e.abrupt("return");case 5:return t.isCalculating=!0,n=r.sheetsByTitle["км (исх)"],a=r.sheetsByTitle["м".concat(t.form.type)],s=r.sheetsByTitle["п".concat(t.form.type)],o=r.sheetsByTitle["к".concat(t.form.type)],l=[0,0],l[1]=n.headerValues.indexOf(t.form.to),e.next=14,n.loadCells({startRowIndex:0,endRowIndex:n.rowCount,startColumnIndex:0,endColumnIndex:1});case 14:c=0;case 15:if(!(c<n.rowCount)){e.next=22;break}if(n.getCell(c,0).formattedValue!=t.form.from){e.next=19;break}return l[0]=c,e.abrupt("break",22);case 19:c++,e.next=15;break;case 22:return u=[n.loadCells({startRowIndex:l[0],endRowIndex:l[0]+1,startColumnIndex:l[1],endColumnIndex:l[1]+1}),a.loadCells({startRowIndex:l[0],endRowIndex:l[0]+1,startColumnIndex:l[1],endColumnIndex:l[1]+1}),s.loadCells({startRowIndex:l[0],endRowIndex:l[0]+1,startColumnIndex:l[1],endColumnIndex:l[1]+1}),o.loadCells({startRowIndex:l[0],endRowIndex:l[0]+1,startColumnIndex:l[1],endColumnIndex:l[1]+1})],e.next=25,Promise.all(u);case 25:t.result=Object(i["a"])({distance:n.getCell(l[0],l[1]).formattedValue,m:a.getCell(l[0],l[1]).formattedValue,p:s.getCell(l[0],l[1]).formattedValue,k:o.getCell(l[0],l[1]).formattedValue},t.form),t.isCalculating=!1;case 27:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.load()}},B=E,A=(n("5c0b"),Object(p["a"])(B,s,o,!1,null,null,null)),T=A.exports,K=n("9483");Object(K["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var P=n("ecee"),G=n("c074"),V=n("ad3d");a["a"].component("fa-icon",V["a"]),P["c"].add(G["a"],G["b"]),a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(T)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},6:function(t,e){},7:function(t,e){},8:function(t,e){},9:function(t,e){},"9c0c":function(t,e,n){},b3db:function(t,e,n){},d71c:function(t,e,n){},df94:function(t,e,n){"use strict";n("b3db")}});
//# sourceMappingURL=app.4256d517.js.map