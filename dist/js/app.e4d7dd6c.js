(function(e){function t(t){for(var r,o,s=t[0],i=t[1],u=t[2],d=0,l=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&l.push(a[o][0]),a[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);f&&f(t);while(l.length)l.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,o=1;o<n.length;o++){var s=n[o];0!==a[s]&&(r=!1)}r&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},a={app:0},c=[];function s(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-19854ee4":"70929788","chunk-36f6cae6":"dc15e434","chunk-49173b16":"576d162c","chunk-5c77785a":"996bfac7","chunk-5f9c96bf":"acb4fe44","chunk-7d695998":"f3956b14","chunk-b6c58604":"c0473204"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-19854ee4":1,"chunk-36f6cae6":1,"chunk-49173b16":1,"chunk-5c77785a":1,"chunk-5f9c96bf":1,"chunk-7d695998":1,"chunk-b6c58604":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-19854ee4":"6c986333","chunk-36f6cae6":"a0fc3e32","chunk-49173b16":"b6f6c7fa","chunk-5c77785a":"84d189eb","chunk-5f9c96bf":"5cc3a3fd","chunk-7d695998":"e606d70c","chunk-b6c58604":"daba6911"}[e]+".css",a=i.p+r,c=document.getElementsByTagName("link"),s=0;s<c.length;s++){var u=c[s],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===r||d===a))return t()}var l=document.getElementsByTagName("style");for(s=0;s<l.length;s++){u=l[s],d=u.getAttribute("data-href");if(d===r||d===a)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||a,c=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=r,delete o[e],f.parentNode.removeChild(f),n(c)},f.href=a;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){o[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var c=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=c);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,i.nc&&d.setAttribute("nonce",i.nc),d.src=s(e);var l=new Error;u=function(t){d.onerror=d.onload=null,clearTimeout(f);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",l.name="ChunkLoadError",l.type=r,l.request=o,n[1](l)}a[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:d})}),12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var f=d;c.push([1,"chunk-vendors"]),n()})({0:function(e,t){},1:function(e,t,n){e.exports=n("56d7")},10:function(e,t){},11:function(e,t){},12:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},"40d2":function(e,t,n){},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("2b0e"),o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app"},[t("Header"),t("transition",{attrs:{name:"loader"}},[e.isLoader?t("Loader"):e._e()],1),t("router-view")],1)},a=[];const c=()=>n.e("chunk-36f6cae6").then(n.bind(null,"0418")),s=()=>n.e("chunk-5f9c96bf").then(n.bind(null,"555f"));var i={components:{Header:c,Loader:s},computed:{isLoader(){return this.$store.state.loader.isVisible}},mounted(){this.$store.dispatch("loadTable")}},u=i,d=(n("8add"),n("2877")),l=Object(d["a"])(u,o,a,!1,null,null,null),f=l.exports,h=n("9483");Object(h["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var p=n("8c4f");r["a"].use(p["a"]);const g=[{path:"/",component:()=>n.e("chunk-5c77785a").then(n.bind(null,"c20c"))},{path:"/margin",component:()=>n.e("chunk-7d695998").then(n.bind(null,"d3a2"))},{path:"/customer",component:()=>n.e("chunk-49173b16").then(n.bind(null,"5bdc"))},{path:"/insurance",component:()=>n.e("chunk-19854ee4").then(n.bind(null,"920b"))},{path:"*",redirect:"/"}],m=new p["a"]({mode:"history",base:"/",routes:g});var w=m,b=n("2f62"),y={state:{isVisible:!0,status:""},mutations:{showLoader(e,t=""){e.isVisible=!0,e.status=t},hideLoader(e){e.isVisible=!1,e.status=""}}},v=(n("0643"),n("2382"),n("a573"),n("d340"));let k;var x={state:{cities:[],excludedCities:[],margins:[],types:[[{key:"1.5",text:"Газель 1.5 тонны",desc:"16 кубов, 4.2 м длина"},{key:"3",text:"3-тонник",desc:"25 кубов, 5 м длина"},{key:"5",text:"5-тонник",desc:"30 кубов, 6 м длина"},{key:"10",text:"10-тонник",desc:"50 кубов, 8 м длина"},{key:"20",text:"Фура 20 тонн",desc:"82 куба, 13.6 м длина"},{key:"Трал",text:"Трал",desc:"груз в габарите"}],[{key:"2к",text:"Догруз 2 куба",desc:"200 кг, 1 м длина"},{key:"4к",text:"Догруз 4 куба",desc:"400 кг, 1 м длина"},{key:"6к",text:"Догруз 6 кубов",desc:"600 кг, 1.5 м длина"},{key:"8к",text:"Догруз 8 кубов",desc:"800 кг, 2 м длина"},{key:"10к",text:"Догруз 10 кубов",desc:"1 тонна, 3 м длина"}]]},getters:{getMarginByCarrier:e=>t=>{let n=t<e.margins[0].carrier?e.margins[0]:e.margins[e.margins.length-1];for(let r=0;r<e.margins.length-1;r++)t>=e.margins[r].carrier&&t<e.margins[r+1].carrier&&(n=e.margins[r]);return{carrier:Math.floor(+t),customer:Math.floor(t*(1+n.percent/100)),percent:n.percent,value:Math.floor(t*n.percent/100)}}},mutations:{setCities(e,t){e.cities=t},setExcludedCities(e,t){e.excludedCities=t},setMargins(e,t){e.margins=t}},actions:{async loadTable({commit:e,dispatch:t}){k||(k=new v["GoogleSpreadsheet"]("1BPHDRVWwO4nBEF5ERPDBBdFwfmgixtXz9rHarbZ-o7c"),e("showLoader","Подключение к Google Docs"),await k.useServiceAccountAuth({client_email:"tarif-653@dogwood-envoy-300011.iam.gserviceaccount.com",private_key:"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCfZ3CcZRHtD82R\nFxCr5a3QgvTCTou43MHTj9OS/Kb9qauhpSKzg7deaKOw6uk3+l4VDTMe/0VmIHMQ\nJQmmVw4+OpWRYHxGa7huVF639QGSCC+dAMBOu7IRWSC+aF2ElmClBVNnftEEhu2+\n1vDS8e9uhjswupktOZ3dcydvJ51kfhdKcOyigM3Z1LSWn7FbdxN4kqyvR73oP4rv\nzoVspj8ASy52QHXFmiVm6SMsYNTNx0Rv/WdKzwyj5Whq70WxcD08L2zSzyeB/ZqR\nHIgbVUbsym2I5mahhJNQcs0Uo00EOzGIyE5KrwiwHCKaZLzRMS3UOsANRrtRYaQ9\nn/1UxUgpAgMBAAECggEAGFb8G/VW2mLaWbgy5HyKoNcONok1zoFu2zYP8VbAzOTW\nfzUu6khHfJPvwrjr6Y9CRGaikq4Z07FKwIFXSt3qH9hkNDGOaFZUcAxT9jTkC39S\nfd+6fYstcnawiEJ5XSB1G12H0brMgat0q/o4BY3JqI+4hAVKFFzC3SiTMebTop9c\nf7kx6agrZwpg/RoDIPhEoCWkddKx1wu/HqB2rH0O8hUQ2mgGWvGszkH0a/LZIoif\nNhT1PLMjINdBDfjEhRBSflixqK3Evp9UZAAVDNNePPX4b3F4ETetlKfcUNFVaypv\nQouWGJc9cGe97ibwNP975RmoDUwrJL81sEmfxx6hDQKBgQDTbDCZyJmPG8NIl4sk\nrGngsKS1FdfBtFxJ8SCebNj8CmwIh7B5SCKzJvuL714JKI4ZwnUWdNK0bTyO/Pn/\ndss+6F7CJHwWShZq+lP9LnrZDU7aI8b+6yjTvDQGw51TyMaKMzrLqluvM/Y+vMNv\n0c/+idk9aHugHqFhslm9GL2sZwKBgQDBA3sla9JKtaGttFrea0ZBvGKbIj8bPYrw\ntWxAQaGiC6RJEdFUPMtWHHOsutEWXGW2L0FEIV3Xo3NPBk3Ts84ql8gsX2SN+OR5\nTuK2PPCojMU990ACXTYYv+2aeh39NdTU2GIu8VXhpFU1WPBqwE1V9KqyYY7ZYK/6\nhInPwa+M7wKBgD8pdD+NMWsSlT3LoFMdeygYPayn0ORauLOSaPdLd2ucxXeq6erh\nxRQWklHU+hfsWL+TW52Q2x3yAISLSTiryb6Kdzyy36tdCON+07awuxy7IBKFW77u\njCztbfGTYR4VvlKtSWRtCaUG9gr6I7z1Rpk5n3/8BerpG7dvK+YVTR0DAoGBAIR7\nlzOAZr/RHEDW4uh4SaklXamOQDK6c3v1i3AvnHpV81YUXNKtSAS7UsrlEE+A7G+4\nz9ur63XwQ12ivhjp+kFSHZwXfjXU+T4q34KnIakPtvNpmw4EXPVwB+9Yku0S3hua\nywndrU1MNxB/E8ayaGLvpZr7S8n5i9Ew2Ec6cv0RAoGAJf+2/fotRvt8GxrwxFY6\nw/UTbOxOcuD8MiXL0sMUwVHb2kBRRZT1HxxRn+5vxyicCLNQOk0Vuc9bMDn7qIwf\nc8ZteZV03vOn6s/Kw46kk4jDsBQGu3muzlUcYig7pbZW/HTryEPGLX8fGPBTcW77\nFK7o1r1nrTIt/Ehl6Orz0qo=\n-----END PRIVATE KEY-----\n"}),e("showLoader","Загрузка информации о документе"),await k.loadInfo(),await t("loadCities"),await t("loadMargins"),e("hideLoader"))},async loadCities({commit:e}){e("showLoader","Загрузка городов");const t=k.sheetsByTitle["км (исх)"],n=k.sheetsByTitle["Города искл."];await t.loadHeaderRow();const r=await n.getRows();e("setCities",t.headerValues.filter(e=>!!e)),e("setExcludedCities",r.map(e=>e["Город"]).filter(e=>!!e))},async loadMargins({commit:e}){e("showLoader","Загрузка таблицы маржи");const t=k.sheetsByTitle["% маржа"],n=await t.getRows(),r=n.map(e=>({carrier:+e["Ставка перевозчика"],percent:+e["Процент"].split("%").join("")}));e("setMargins",r)},async getInfo({commit:e,getters:t},n){e("hideLoader");const r=k.sheetsByTitle["км (исх)"],o=k.sheetsByTitle["м"+n.type],a=k.sheetsByTitle["п"+n.type];let c=[0,0];console.log(r),c[1]=r.headerValues.indexOf(n.to),await r.loadCells({startRowIndex:0,endRowIndex:r.rowCount,startColumnIndex:0,endColumnIndex:1});for(let u=0;u<r.rowCount;u++)if(r.getCell(u,0).formattedValue==n.from){c[0]=u;break}const s=[r.loadCells({startRowIndex:c[0],endRowIndex:c[0]+1,startColumnIndex:c[1],endColumnIndex:c[1]+1}),o.loadCells({startRowIndex:c[0],endRowIndex:c[0]+1,startColumnIndex:c[1],endColumnIndex:c[1]+1}),a.loadCells({startRowIndex:c[0],endRowIndex:c[0]+1,startColumnIndex:c[1],endColumnIndex:c[1]+1})];await Promise.all(s);const i=a.getCell(c[0],c[1]).formattedValue;return{distance:r.getCell(c[0],c[1]).formattedValue,m:o.getCell(c[0],c[1]).formattedValue,p:i,k:t.getMarginByCarrier(i).customer,...n}}}};r["a"].use(b["a"]);var C=new b["a"].Store({modules:{loader:y,table:x}}),I=n("ecee"),E=n("c074"),T=n("ad3d");r["a"].component("fa-icon",T["a"]),I["c"].add(E["a"],E["b"],E["c"],E["d"]),r["a"].config.productionTip=!1,new r["a"]({router:w,store:C,render:e=>e(f)}).$mount("#app")},6:function(e,t){},7:function(e,t){},8:function(e,t){},"8add":function(e,t,n){"use strict";n("40d2")},9:function(e,t){}});
//# sourceMappingURL=app.e4d7dd6c.js.map