(function(e){function n(n){for(var r,o,i=n[0],u=n[1],s=n[2],d=0,l=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&l.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);f&&f(n);while(l.length)l.shift()();return c.push.apply(c,s||[]),t()}function t(){for(var e,n=0;n<c.length;n++){for(var t=c[n],r=!0,o=1;o<t.length;o++){var i=t[o];0!==a[i]&&(r=!1)}r&&(c.splice(n--,1),e=u(u.s=t[0]))}return e}var r={},o={app:0},a={app:0},c=[];function i(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-06db608c":"1c8edf9c","chunk-28c0ba76":"34e635b2","chunk-408ffdc7":"f111a2d1","chunk-7ef7f587":"c5e26612","chunk-973e5f76":"59604a1e","chunk-f6d4805e":"291dd787","chunk-2fbd2846":"23ae8290"}[e]+".js"}function u(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,u),t.l=!0,t.exports}u.e=function(e){var n=[],t={"chunk-06db608c":1,"chunk-28c0ba76":1,"chunk-408ffdc7":1,"chunk-7ef7f587":1,"chunk-973e5f76":1,"chunk-f6d4805e":1,"chunk-2fbd2846":1};o[e]?n.push(o[e]):0!==o[e]&&t[e]&&n.push(o[e]=new Promise((function(n,t){for(var r="css/"+({}[e]||e)+"."+{"chunk-06db608c":"5ce6c41a","chunk-28c0ba76":"06828b47","chunk-408ffdc7":"0a02f132","chunk-7ef7f587":"78c5bb61","chunk-973e5f76":"cd0d8c1c","chunk-f6d4805e":"09234471","chunk-2fbd2846":"fd1d6b1c"}[e]+".css",a=u.p+r,c=document.getElementsByTagName("link"),i=0;i<c.length;i++){var s=c[i],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===r||d===a))return n()}var l=document.getElementsByTagName("style");for(i=0;i<l.length;i++){s=l[i],d=s.getAttribute("data-href");if(d===r||d===a)return n()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=n,f.onerror=function(n){var r=n&&n.target&&n.target.src||a,c=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=r,delete o[e],f.parentNode.removeChild(f),t(c)},f.href=a;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){o[e]=0})));var r=a[e];if(0!==r)if(r)n.push(r[2]);else{var c=new Promise((function(n,t){r=a[e]=[n,t]}));n.push(r[2]=c);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,u.nc&&d.setAttribute("nonce",u.nc),d.src=i(e);var l=new Error;s=function(n){d.onerror=d.onload=null,clearTimeout(f);var t=a[e];if(0!==t){if(t){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",l.name="ChunkLoadError",l.type=r,l.request=o,t[1](l)}a[e]=void 0}};var f=setTimeout((function(){s({type:"timeout",target:d})}),12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(n)},u.m=e,u.c=r,u.d=function(e,n,t){u.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,n){if(1&n&&(e=u(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(u.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)u.d(t,r,function(n){return e[n]}.bind(null,r));return t},u.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(n,"a",n),n},u.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},u.p="/",u.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=n,s=s.slice();for(var l=0;l<s.length;l++)n(s[l]);var f=d;c.push([1,"chunk-vendors"]),t()})({0:function(e,n){},1:function(e,n,t){e.exports=t("56d7")},10:function(e,n){},11:function(e,n){},2:function(e,n){},3:function(e,n){},4:function(e,n){},5:function(e,n){},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var r=t("2b0e"),o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"app"},[t("Header"),t("transition",{attrs:{name:"loader"}},[e.isLoader?t("Loader"):e._e()],1),t("router-view")],1)},a=[],c=(t("d3b7"),function(){return t.e("chunk-408ffdc7").then(t.bind(null,"0418"))}),i=function(){return t.e("chunk-06db608c").then(t.bind(null,"555f"))},u={components:{Header:c,Loader:i},computed:{isLoader:function(){return this.$store.state.loader.isVisible}},mounted:function(){this.$store.dispatch("loadTable")}},s=u,d=(t("5c0b"),t("2877")),l=Object(d["a"])(s,o,a,!1,null,null,null),f=l.exports,h=t("9483");Object(h["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var p=t("8c4f");r["a"].use(p["a"]);var m,g=[{path:"/",component:function(){return t.e("chunk-f6d4805e").then(t.bind(null,"c20c"))}},{path:"/margin",component:function(){return t.e("chunk-7ef7f587").then(t.bind(null,"d3a2"))}},{path:"/customer",component:function(){return t.e("chunk-973e5f76").then(t.bind(null,"5bdc"))}},{path:"/insurance",component:function(){return t.e("chunk-28c0ba76").then(t.bind(null,"920b"))}},{path:"*",redirect:"/"}],b=new p["a"]({mode:"history",base:"/",routes:g}),w=b,v=t("2f62"),k={state:{isVisible:!0,status:""},mutations:{showLoader:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.isVisible=!0,e.status=n},hideLoader:function(e){e.isVisible=!1,e.status=""}}},x=(t("4de4"),t("c975"),t("a15b"),t("d81d"),t("ac1f"),t("3ca3"),t("1276"),t("ddb0"),t("5530")),y=(t("96cf"),t("1da1")),C=t("d340"),R={state:{cities:[],excludedCities:[],margins:[],types:[[{key:"1.5",text:"Газель 1.5 тонны",desc:"16 кубов, 4.2 м длина"},{key:"3",text:"3-тонник",desc:"25 кубов, 5 м длина"},{key:"5",text:"5-тонник",desc:"30 кубов, 6 м длина"},{key:"10",text:"10-тонник",desc:"50 кубов, 8 м длина"},{key:"20",text:"Фура 20 тонн",desc:"82 куба, 13.6 м длина"},{key:"Трал",text:"Трал",desc:"груз в габарите"}],[{key:"2к",text:"Догруз 2 куба",desc:"200 кг, 1 м длина"},{key:"4к",text:"Догруз 4 куба",desc:"400 кг, 1 м длина"},{key:"6к",text:"Догруз 6 кубов",desc:"600 кг, 1.5 м длина"},{key:"8к",text:"Догруз 8 кубов",desc:"800 кг, 2 м длина"},{key:"10к",text:"Догруз 10 кубов",desc:"1 тонна, 3 м длина"}]]},getters:{getMarginByCarrier:function(e){return function(n){for(var t=n<e.margins[0].carrier?e.margins[0]:e.margins[e.margins.length-1],r=0;r<e.margins.length-1;r++)n>=e.margins[r].carrier&&n<e.margins[r+1].carrier&&(t=e.margins[r]);return{carrier:Math.floor(+n),customer:Math.floor(n*(1+t.percent/100)),percent:t.percent,value:Math.floor(n*t.percent/100)}}}},mutations:{setCities:function(e,n){e.cities=n},setExcludedCities:function(e,n){e.excludedCities=n},setMargins:function(e,n){e.margins=n}},actions:{loadTable:function(e){return Object(y["a"])(regeneratorRuntime.mark((function n(){var t,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t=e.commit,r=e.dispatch,!m){n.next=3;break}return n.abrupt("return");case 3:return m=new C["GoogleSpreadsheet"]("1BPHDRVWwO4nBEF5ERPDBBdFwfmgixtXz9rHarbZ-o7c"),t("showLoader","Подключение к Google Docs"),n.next=7,m.useServiceAccountAuth({client_email:"tarif-653@dogwood-envoy-300011.iam.gserviceaccount.com",private_key:"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCfZ3CcZRHtD82R\nFxCr5a3QgvTCTou43MHTj9OS/Kb9qauhpSKzg7deaKOw6uk3+l4VDTMe/0VmIHMQ\nJQmmVw4+OpWRYHxGa7huVF639QGSCC+dAMBOu7IRWSC+aF2ElmClBVNnftEEhu2+\n1vDS8e9uhjswupktOZ3dcydvJ51kfhdKcOyigM3Z1LSWn7FbdxN4kqyvR73oP4rv\nzoVspj8ASy52QHXFmiVm6SMsYNTNx0Rv/WdKzwyj5Whq70WxcD08L2zSzyeB/ZqR\nHIgbVUbsym2I5mahhJNQcs0Uo00EOzGIyE5KrwiwHCKaZLzRMS3UOsANRrtRYaQ9\nn/1UxUgpAgMBAAECggEAGFb8G/VW2mLaWbgy5HyKoNcONok1zoFu2zYP8VbAzOTW\nfzUu6khHfJPvwrjr6Y9CRGaikq4Z07FKwIFXSt3qH9hkNDGOaFZUcAxT9jTkC39S\nfd+6fYstcnawiEJ5XSB1G12H0brMgat0q/o4BY3JqI+4hAVKFFzC3SiTMebTop9c\nf7kx6agrZwpg/RoDIPhEoCWkddKx1wu/HqB2rH0O8hUQ2mgGWvGszkH0a/LZIoif\nNhT1PLMjINdBDfjEhRBSflixqK3Evp9UZAAVDNNePPX4b3F4ETetlKfcUNFVaypv\nQouWGJc9cGe97ibwNP975RmoDUwrJL81sEmfxx6hDQKBgQDTbDCZyJmPG8NIl4sk\nrGngsKS1FdfBtFxJ8SCebNj8CmwIh7B5SCKzJvuL714JKI4ZwnUWdNK0bTyO/Pn/\ndss+6F7CJHwWShZq+lP9LnrZDU7aI8b+6yjTvDQGw51TyMaKMzrLqluvM/Y+vMNv\n0c/+idk9aHugHqFhslm9GL2sZwKBgQDBA3sla9JKtaGttFrea0ZBvGKbIj8bPYrw\ntWxAQaGiC6RJEdFUPMtWHHOsutEWXGW2L0FEIV3Xo3NPBk3Ts84ql8gsX2SN+OR5\nTuK2PPCojMU990ACXTYYv+2aeh39NdTU2GIu8VXhpFU1WPBqwE1V9KqyYY7ZYK/6\nhInPwa+M7wKBgD8pdD+NMWsSlT3LoFMdeygYPayn0ORauLOSaPdLd2ucxXeq6erh\nxRQWklHU+hfsWL+TW52Q2x3yAISLSTiryb6Kdzyy36tdCON+07awuxy7IBKFW77u\njCztbfGTYR4VvlKtSWRtCaUG9gr6I7z1Rpk5n3/8BerpG7dvK+YVTR0DAoGBAIR7\nlzOAZr/RHEDW4uh4SaklXamOQDK6c3v1i3AvnHpV81YUXNKtSAS7UsrlEE+A7G+4\nz9ur63XwQ12ivhjp+kFSHZwXfjXU+T4q34KnIakPtvNpmw4EXPVwB+9Yku0S3hua\nywndrU1MNxB/E8ayaGLvpZr7S8n5i9Ew2Ec6cv0RAoGAJf+2/fotRvt8GxrwxFY6\nw/UTbOxOcuD8MiXL0sMUwVHb2kBRRZT1HxxRn+5vxyicCLNQOk0Vuc9bMDn7qIwf\nc8ZteZV03vOn6s/Kw46kk4jDsBQGu3muzlUcYig7pbZW/HTryEPGLX8fGPBTcW77\nFK7o1r1nrTIt/Ehl6Orz0qo=\n-----END PRIVATE KEY-----\n"});case 7:return t("showLoader","Загрузка информации о документе"),n.next=10,m.loadInfo();case 10:return n.next=12,r("loadCities");case 12:return n.next=14,r("loadMargins");case 14:t("hideLoader");case 15:case"end":return n.stop()}}),n)})))()},loadCities:function(e){return Object(y["a"])(regeneratorRuntime.mark((function n(){var t,r,o,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t=e.commit,t("showLoader","Загрузка городов"),r=m.sheetsByTitle["км (исх)"],o=m.sheetsByTitle["Города искл."],n.next=6,r.loadHeaderRow();case 6:return n.next=8,o.getRows();case 8:a=n.sent,t("setCities",r.headerValues.filter((function(e){return!!e}))),t("setExcludedCities",a.map((function(e){return e["Город"]})).filter((function(e){return!!e})));case 11:case"end":return n.stop()}}),n)})))()},loadMargins:function(e){return Object(y["a"])(regeneratorRuntime.mark((function n(){var t,r,o,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t=e.commit,t("showLoader","Загрузка таблицы маржи"),r=m.sheetsByTitle["% маржа"],n.next=5,r.getRows();case 5:o=n.sent,a=o.map((function(e){return{carrier:+e["Ставка перевозчика"],percent:+e["Процент"].split("%").join("")}})),t("setMargins",a);case 8:case"end":return n.stop()}}),n)})))()},getInfo:function(e,n){return Object(y["a"])(regeneratorRuntime.mark((function t(){var r,o,a,c,i,u,s,d,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,o=e.getters,r("hideLoader"),a=m.sheetsByTitle["км (исх)"],c=m.sheetsByTitle["м".concat(n.type)],i=m.sheetsByTitle["п".concat(n.type)],u=[0,0],console.log(a),u[1]=a.headerValues.indexOf(n.to),t.next=10,a.loadCells({startRowIndex:0,endRowIndex:a.rowCount,startColumnIndex:0,endColumnIndex:1});case 10:s=0;case 11:if(!(s<a.rowCount)){t.next=18;break}if(a.getCell(s,0).formattedValue!=n.from){t.next=15;break}return u[0]=s,t.abrupt("break",18);case 15:s++,t.next=11;break;case 18:return d=[a.loadCells({startRowIndex:u[0],endRowIndex:u[0]+1,startColumnIndex:u[1],endColumnIndex:u[1]+1}),c.loadCells({startRowIndex:u[0],endRowIndex:u[0]+1,startColumnIndex:u[1],endColumnIndex:u[1]+1}),i.loadCells({startRowIndex:u[0],endRowIndex:u[0]+1,startColumnIndex:u[1],endColumnIndex:u[1]+1})],t.next=21,Promise.all(d);case 21:return l=i.getCell(u[0],u[1]).formattedValue,t.abrupt("return",Object(x["a"])({distance:a.getCell(u[0],u[1]).formattedValue,m:c.getCell(u[0],u[1]).formattedValue,p:l,k:o.getMarginByCarrier(l).customer},n));case 23:case"end":return t.stop()}}),t)})))()}}};r["a"].use(v["a"]);var I=new v["a"].Store({modules:{loader:k,table:R}}),E=t("ecee"),T=t("c074"),B=t("ad3d");r["a"].component("fa-icon",B["a"]),E["c"].add(T["a"],T["b"],T["c"],T["d"]),r["a"].config.productionTip=!1,new r["a"]({router:w,store:I,render:function(e){return e(f)}}).$mount("#app")},"5c0b":function(e,n,t){"use strict";t("9c0c")},6:function(e,n){},7:function(e,n){},8:function(e,n){},9:function(e,n){},"9c0c":function(e,n,t){}});
//# sourceMappingURL=app.b1448f07.js.map